<!doctype html>
<!--
* Bootstrap Simple Admin Template
* Email: heyalexluna@gmail.com
* Version: 1.1
* Author: Alexis Luna
* Copyright 2019 Alexis Luna
* Website: https://github.com/mralexisluna/bootstrap-simple-admin-template
-->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>首页</title>
	<link th:href="@{/vendor/bootstrap4/css/bootstrap.min.css}" rel="stylesheet">
	<link th:href="@{/css/master.css}" rel="stylesheet">
	<link th:href="@{/vendor/chartsjs/Chart.min.css}" rel="stylesheet">
	<link th:href="@{/vendor/flagiconcss3/css/flag-icon.min.css}" rel="stylesheet">
</head>

<body>
<div class="wrapper">
	<div th:replace="common/sidebar"></div>
	<div id="body" class="active">
		<div th:replace="common/nav"></div>
		<div class="content">
			<div class="container-fluid">
				<!-- Modal -->
				<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
					<div class="modal-dialog modal-dialog-centered" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="exampleModalCenterTitle">添加用户</h5>
								<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
							</div>
							<div class="modal-body">
								<form th:action="@{/api/user/save}" method="post">
									<div class="form-group">
										<label for="user_name">用户名：</label>
										<input type="text" class="form-control" id="user_name" name="user_name" placeholder="请输入用户名" />
									</div>
									<div class="form-group">
										<label for="password">用户密码：</label>
										<input type="password" class="form-control" id="password" name="password" placeholder="请输入用户密码" />
									</div>
									<div class="form-group">
										<label for="tel">电话：</label>
										<input type="text" class="form-control" id="tel" name="tel" placeholder="请输入电话" />
									</div>
									<button type="submit" class="btn btn-primary">提交</button>
								</form>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
							</div>
						</div>
					</div>
				</div>
				<button class="btn-primary" id="btn-add-user" data-toggle="modal" data-target="#exampleModalCenter">添加用户</button>
				<table class="table table-striped">
					<thead class="thead-dark">
						<tr>
							<th scope="col">序号</th>
							<th scope="col">用户名</th>
							<th scope="col">性别</th>
							<th scope="col">电话</th>
							<th scope="col">状态</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="user,iterStat :${userList}">
							<td th:text="${iterStat.index}"></td>
							<td th:text="${user.getUser_name()}"></td>
							<td th:text="${user.getGender()}=='women'?'女':'男'"></td>
							<td th:text="${user.getTel()}"></td>
							<td th:text="${user.getStatus()}"></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>
<script th:src="@{/vendor/jquery3/jquery-3.4.1.min.js}"></script>
<script th:src="@{/vendor/bootstrap4/js/bootstrap.bundle.min.js}"></script>
<script th:src="@{/vendor/fontawesome5/js/solid.min.js}"></script>
<script th:src="@{/vendor/fontawesome5/js/fontawesome.min.js}"></script>
<!--    <script th:src="@{/vendor/chartsjs/Chart.min.js}"></script>-->
<!--    <script th:src="@{/js/dashboard-charts.js}"></script>-->
<script th:src="@{/vendor/DataTables/datatables.min.js}"></script>
<script th:src="@{/js/initiate-datatables.js}"></script>
<script th:src="@{/js/script.js}"></script>
<script th:inline="javascript">
	var userList = [[${userList}]]
	console.log(userList);

	 var msg = [[${msg}]];
	 if(msg) {
		 alert(msg);
	 }

    $('#exampleModalCenter').on('hide.bs.modal', function () {
       $('form')[0].reset();
    });
</script>
</body>
</html>